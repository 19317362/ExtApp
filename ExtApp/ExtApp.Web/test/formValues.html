<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link href="/ext/themes/theme-classic/theme-classic-all.css" rel="stylesheet" />
    <script src="/ext/ext-all-debug.js"></script>
    <script src="/ext/locale/locale-zh_CN.js"></script>
    <script>
        Ext.define('Test.formValues', {
            extend: 'Ext.panel.Panel',

            title: 'Form赋值测试',
            width: 300,
            frame: true,
            layout: 'fit',

            items: [{
                xtype: 'form',
                layout: 'form',
                items: [{
                    xtype: 'textfield',
                    name: 'name',
                    fieldLabel: '姓名'
                }, {
                    xtype: 'numberfield',
                    name: 'age',
                    fieldLabel: '年龄'
                }]
            }],

            reset: function () { // 重置
                this.down('form').getForm().reset();
            },

            setValues: function (values) { // 赋值
                this.down('form').getForm().setValues(values);
            },

            getValues: function () { // 读取
                return this.down('form').getForm().getValues();
            },

            buttons: [{
                text: '重置',
                handler: function () {
                    this.up('panel').reset();
                }
            }, {
                text: '赋值',
                handler: function () {
                    this.up('panel').setValues({
                        name: '小明',
                        age: 12
                    });
                }
            }, {
                text: '读取',
                handler: function () {
                    var values = this.up('panel').getValues();
                    Ext.Msg.alert('当前值', JSON.stringify(values));
                }
            }]
        });

        Ext.onReady(function () {
            Ext.create('Test.formValues').render(Ext.getBody());
        });
    </script>
</head>
<body>

</body>
</html>
